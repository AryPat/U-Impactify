<div class="host">
  <div class="card">
    <div class="profile-container">
      <div class="inner">
        <div
          class="profile-pic"
          [ngClass]="{ 'no-image': !profileImage }"
          [style.background-image]="'url(' + profileImage + ')'"
        >
          <clr-icon *ngIf="!profileImage" shape="image"></clr-icon>
        </div>
        <div class="info">
          <div>
            Registered Name: <span class="value">{{ user._id }}</span>
          </div>
          <div>
            Registered Number:
            <span class="value">{{
              user.socialInitiative.registeredNumber
            }}</span>
          </div>
          <div>
            Business Number:
            <span class="value">{{
              user.socialInitiative.businessNumber
            }}</span>
          </div>
          <div>
            Location:
            <span class="value">{{ user.socialInitiative.location }}</span>
          </div>
          <div>
            Hours: <span class="value">{{ user.socialInitiative.hours }}</span>
          </div>
          <div>
            Phone: <span class="value">{{ user.socialInitiative.phone }}</span>
          </div>
          <div>
            Email: <span class="value">{{ user.socialInitiative.email }}</span>
          </div>
        </div>
        <div class="btn-container">
          <button
            class="btn btn-purple"
            *ngIf="isLoggedIn && !sameUser"
            (click)="onDonate()"
            id="donateButton"
          >
            Donate Now
          </button>
          <button class="btn btn-purple">Visit Our Website</button>
          <button class="btn btn-purple">Email Us</button>
          <button
            *ngIf="sameUser"
            (click)="basic = true"
            class="btn edit btn-purple"
          >
            Edit
          </button>
        </div>
      </div>
      <!-- Here should go the Tabs Container as shown in the mockup -->
    </div>
  </div>
</div>

<clr-modal *ngIf="sameUser" [(clrModalOpen)]="basic" [clrModalSize]="'xl'">
  <div class="modal-body edit-profile">
    <h3>Edit Profile</h3>
    <div class="image-upload">
      <ngx-file-drop
        dropZoneLabel="Drop files here"
        (onFileDrop)="droppedProfileImage($event)"
        accept=".jpg, .png, .jpeg"
      >
        <ng-template
          ngx-file-drop-content-tmp
          let-openFileSelector="openFileSelector"
        >
          <label>Upload Course Image (.jpg and .png)</label>
          <button
            class="btn btn-primary right"
            style="height: auto"
            (click)="openFileSelector()"
          >
            Browse Files
          </button>
        </ng-template>
      </ngx-file-drop>
      <div class="uploadedImage imageError">
        {{ imageError }}
      </div>
      <div class="uploadedImage" *ngIf="img[0]">
        Uploaded "{{ img[0].fileEntry.name }}"
      </div>
    </div>
    <form clrForm class="profile-form">
      <clr-input-container class="side">
        <label>Registered Number</label>
        <input
          clrInput
          placeholder="{{ registeredNumber }}"
          [(ngModel)]="registeredNumber"
          name="registered number"
        />
      </clr-input-container>
      <clr-input-container class="side">
        <label>Business Number</label>
        <input
          clrInput
          placeholder="{{ businessNumber }}"
          [(ngModel)]="businessNumber"
          name="business number"
        />
      </clr-input-container>
      <clr-input-container class="side">
        <label>Location</label>
        <input
          clrInput
          placeholder="{{ location }}"
          [(ngModel)]="location"
          name="location"
        />
      </clr-input-container>
      <clr-input-container class="side">
        <label>Hours</label>
        <input
          clrInput
          placeholder="{{ hours }}"
          [(ngModel)]="hours"
          name="hours"
        />
      </clr-input-container>
      <clr-input-container class="side">
        <label>Phone Number</label>
        <input
          clrInput
          placeholder="{{ phone }}"
          [(ngModel)]="phone"
          name="phone"
        />
      </clr-input-container>
      <clr-input-container class="side">
        <label>Email Address</label>
        <input
          clrInput
          placeholder="{{ email }}"
          [(ngModel)]="email"
          name="email"
        />
      </clr-input-container>
    </form>
  </div>
  <div class="modal-footer">
    <button
      type="button"
      class="btn btn-ok btn-outline btn-cancel"
      (click)="basic = false"
      (click)="doNotChange()"
    >
      Cancel
    </button>
    <button
      type="button"
      class="btn btn-ok btn-outline"
      (click)="basic = false"
      (click)="add()"
    >
      Ok
    </button>
  </div>
</clr-modal>

<!-- DONATE MODAL -->

<clr-modal class="popup" [(clrModalOpen)]="opened" [clrModalSize]="'lg'">
  <div class="modal-body">
    <h3 class="modal-title">I want to contribute to {{ user._id }}</h3>
    <div class="row inner_modal">
      <div class="col">
        <div>
          <p>How much will you like to donate?</p>
        </div>
        <div>
          <form class="clr-form">
            $
            <input
              [(ngModel)]="amount"
              [ngModelOptions]="{ standalone: true }"
              type="text"
              id="basic"
              placeholder="100.00"
              class="clr-input"
            />
          </form>
        </div>
      </div>
      <div>
        <img
          class="modal_img"
          src="../../../assets/giving_garden/donate_si.svg"
        />
      </div>
    </div>
  </div>
  <div class="modal-footer">
    <button
      type="button"
      class="btn btn-ok btn-outline"
      (click)="opened = false"
    >
      Cancel
    </button>
    <button
      type="button"
      class="btn btn-ok btn-outline btn-cancel"
      (click)="onOkay()"
      (click)="opened = false"
    >
      Ok
    </button>
  </div>
</clr-modal>
